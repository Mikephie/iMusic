/* style.css - 完整修改版 (间隔压缩 + 互补配色) */

/* ===== Reset & Base ===== */
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body { margin: 0; padding: 0; }
body {
  font-family: -apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",Roboto,Arial,sans-serif;
  background: var(--bg);
  color: var(--fg);
  min-height: 100vh;
  transition: background .2s ease, color .2s ease;
}

:root{
  /* --- 互补配色优化 (蓝 vs 橙) --- */
  --bg:#0E0E12; /* 深邃的近黑色背景 */
  --fg:#f0f2f5; /* 文本颜色 */
  --muted:#9A9FB0; /* 柔和的灰色 */
  --card:#1A1B20; /* 卡片背景略亮于主背景 */
  --border:#30323A; /* 柔和的边框 */
  --shadow:0 3px 8px rgba(0,0,0,.3); 
  
  --primary:#6B7BE5; /* 主色: 深邃的科技蓝/紫 */
  --primary-rgb: 107, 123, 229;
  
  --accent:#FF9848; /* 强调色/互补色: 温暖的琥珀橙 */
  --accent-rgb: 255, 152, 72;
  
  --danger:#F55C60; /* 危险色 */
  --success:#5CD1A9; /* 成功色 */
  --radius:10px; /* 统一圆角 */
}
@media (prefers-color-scheme: light){
  :root{
    --bg:#f8f9fb; --fg:#141518; --muted:#6b7280;
    --card:#ffffff; --border:#e6e8ee; --shadow:0 1px 3px rgba(0,0,0,.08);
    --primary:#3f51b5; --primary-rgb: 63, 81, 181;
    --accent:#ff9800; --accent-rgb: 255, 152, 0;
    --danger:#dc3545; --success:#28a745;
  }
}

.hidden { display:none !important; }

/* ===== Heading (间隔压缩) ===== */
h1{
  text-align:center;
  margin: 14px 0 12px; 
  font-size: clamp(1.4rem, 1.1rem + 1vw, 2.2rem);
  font-weight: 800;
}

/* ===== Single-column container (间隔压缩) ===== */
.container{
  width: min(900px, 92vw);
  margin: 0 auto 30px; 
  display: grid;
  gap: 14px; 
}

/* ===== Card (Optimization) ===== */
.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: 0 4px 10px rgba(0,0,0,.15), var(--shadow);
  padding: 16px; 
}

/* ===== Form (间隔压缩) ===== */
label{
  display:block; margin:8px 0 5px; 
  font-weight:600; color:var(--fg);
  font-size:.95rem;
}
input[type="file"], input[type="text"]{
  width:100%; padding:10px 14px; border-radius:10px; 
  border:1px solid var(--border); 
  background:rgba(255,255,255,0.04); 
  color:var(--fg);
  font-size:1rem; outline:none; transition: border-color .15s, background .15s;
}
input[type="file"]:focus, input[type="text"]:focus{
  border-color: var(--primary); 
  background: rgba(var(--primary-rgb),.1); /* 聚焦背景使用主色 */
}

button{
  padding:11px 16px; border:none; border-radius:10px; 
  font-weight:700;
  cursor:pointer; transition: transform .1s ease, filter .15s ease, background .15s;
}
button:active{ transform: scale(.98); }
button:disabled{ opacity:.6; cursor:not-allowed; }
.btn-primary{ 
  background: var(--primary); 
  color:#fff; 
  width:100%; 
  box-shadow: 0 3px 8px rgba(var(--primary-rgb),.3); 
  margin-top: 12px; 
}
.btn-primary:hover { filter: brightness(1.1); }
/* 重点按钮（开始上传）使用强调色 */
.btn-accent{ 
  background: var(--accent);  
  color:#1A1B20; /* 强调色按钮使用深色文本 */
  width:100%; 
  margin-top: 16px; 
  box-shadow: 0 3px 8px rgba(var(--accent-rgb),.3);
}
.btn-success{ background: var(--success); color:#1A1B20; border-radius:999px; padding:7px 10px; }
.btn-secondary{
  display:block; width:100%;
  padding:11px 16px; border-radius:10px;
  background:#474d5a; 
  color:#fff; font-weight:700; text-align:center;
}

/* ===== Preview & Metadata Layout (间隔压缩) ===== */
.cover-metadata-flex-wrapper {
  display: flex;
  gap: 15px; 
  align-items: flex-start;
  margin-top: 12px; 
}

.preview-box {
  flex-shrink: 0; 
}

.metadata-fields {
  flex-grow: 1; 
}

.metadata-header {
  font-weight: bold;
  margin-bottom: 8px; 
  border-bottom: 1px dashed var(--border);
  padding-bottom: 4px;
  color: var(--muted);
  font-size: .95rem;
}

.preview-title{ 
  font-size:.9rem; 
  color:var(--muted); 
  margin:0 0 6px; 
  font-weight: 600; 
}
.preview-img{
  width:120px; 
  height:120px; 
  border-radius:10px; 
  object-fit:cover;
  border: 1px solid var(--border);
  box-shadow: 0 4px 10px rgba(0,0,0,0.25);
  display:block; 
  cursor:zoom-in;
}

/* 移动端适配 */
@media (max-width: 600px) {
  .cover-metadata-flex-wrapper {
    flex-direction: column;
    gap: 12px; 
  }
  .preview-box {
    align-self: center; 
  }
  .preview-img{
    width:140px; 
    height:140px; 
  }
}


/* ===== Output blocks (互补配色) ===== */
.feedback-block {
  padding: 10px 14px; 
  border-radius: 10px;
  font-size: .95rem; 
  margin-top: 0px; 
  display: flex;
  align-items: center;
  gap: 10px;
  white-space: pre-wrap; 
  word-break: break-word;
}

.feedback-success {
  background: rgba(92, 209, 169, 0.15); /* 新成功色 */
  color: var(--success);
  font-weight: 600;
}

.feedback-error {
  background: rgba(245, 92, 96, 0.15); /* 新危险色 */
  color: var(--danger);
  font-weight: 600;
}

/* 链接颜色使用互补色(橙色) */
#linkOutput{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; padding: 10px 14px; }
#musicLink{ color: var(--accent); text-decoration: none; word-break: break-all; font-size: .95rem; }


/* ===== File list (间隔压缩) ===== */
#assetListDisplay{ padding: 0; overflow:hidden; }
.asset-header{
  padding:8px 14px; border-bottom:1px solid var(--border); color:var(--muted); font-size:.9rem; 
}
.asset-item{
  display:grid;
  grid-template-columns: 56px 1fr auto; 
  align-items:center;
  gap:12px; 
  padding:10px 14px; 
  border-bottom:1px solid var(--border);
}
.asset-item:last-child{ border-bottom:none; }
.asset-cover{
  width:56px; 
  height:56px; 
  border-radius:8px; 
  object-fit:cover; cursor:zoom-in;
  border: 1px solid var(--border);
}
.asset-info{ min-width:0; }
.asset-title{
  font-weight:700; color:var(--fg); font-size:.95rem; 
}
.asset-type-label{ color:var(--muted); font-size:.82rem; margin-top:2px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

.asset-actions{ display:flex; gap:6px; align-items:center; flex-wrap:wrap; }
.asset-actions .btn{ padding:6px 10px; border-radius:999px; color:#fff; font-weight:700; font-size: .85rem; }
.asset-actions .play-btn{ background: var(--accent); color:var(--card); } /* 播放按钮使用强调色，文本用深色 */
.asset-actions .copy-btn{ background: var(--success); color:var(--card); }
.asset-actions .cover-btn{ background: var(--primary); color:#fff; } /* 封面操作使用主色 */
.asset-actions .del-btn{ background: var(--danger); color:#fff; }

@media (max-width: 520px){
  .asset-item{ grid-template-columns: 50px 1fr; gap: 10px; }
  .asset-actions{ grid-column: 1 / -1; justify-content:flex-end; margin-top: 4px; }
  .asset-cover{ width:50px; height:50px; }
}

/* ===== Lightbox ===== */
.lightbox{
  position:fixed; inset:0; background:rgba(0,0,0,.85);
  display:flex; align-items:center; justify-content:center;
  opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:9999;
}
.lightbox.show{ opacity:1; pointer-events:auto; }
.lightbox img{ max-width:92vw; max-height:92vh; border-radius:10px; box-shadow:0 10px 30px rgba(0,0,0,0.4); }
